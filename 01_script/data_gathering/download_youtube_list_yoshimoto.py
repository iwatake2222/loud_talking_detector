#-- coding: utf-8 --

'''
apt install ffmpeg
pip install pytube
'''

import os
import shutil
import time
import argparse
from pytube import YouTube

# ffmpeg_path = "C:/iwatake/tool/ffmpeg-20170827-ef0c6d9-win64-static/bin/ffmpeg.exe"
ffmpeg_path = "ffmpeg"

list_video = ['https://www.youtube.com/watch?v=kldL8Xw_tOI', 'https://www.youtube.com/watch?v=yXXsu2oQBuc', 'https://www.youtube.com/watch?v=QgqxWfB7Vi8', 'https://www.youtube.com/watch?v=pm6uQlVb6Is', 'https://www.youtube.com/watch?v=MP-3_wsxzd0', 'https://www.youtube.com/watch?v=zWQ43lSN098', 'https://www.youtube.com/watch?v=92_VZRjEdL0', 'https://www.youtube.com/watch?v=MQEzPC2RwNs', 'https://www.youtube.com/watch?v=FD23LGPaT1A', 'https://www.youtube.com/watch?v=BWxvnDpNNow', 'https://www.youtube.com/watch?v=68UHRgF3quw', 'https://www.youtube.com/watch?v=WObqZE8WHjo', 'https://www.youtube.com/watch?v=LKF41cZ4TvE', 'https://www.youtube.com/watch?v=3HziAJngtnc', 'https://www.youtube.com/watch?v=rOe4BE6BFFA', 'https://www.youtube.com/watch?v=4hLz8ZSfFd0', 'https://www.youtube.com/watch?v=su2PUTOXW5E', 'https://www.youtube.com/watch?v=Sk2B-3KAjgU', 'https://www.youtube.com/watch?v=GFf-vFgoO7M', 'https://www.youtube.com/watch?v=I7oNUD8v0Q4', 'https://www.youtube.com/watch?v=gQWrA49rDYA', 'https://www.youtube.com/watch?v=tPP-Sy5soIk', 'https://www.youtube.com/watch?v=j8Tfi-NAF6w', 'https://www.youtube.com/watch?v=lZA8JOzbfAk', 'https://www.youtube.com/watch?v=tTL1PeiVx6c', 'https://www.youtube.com/watch?v=3SwN2DWyVc4', 'https://www.youtube.com/watch?v=CUCF21i0RdU', 'https://www.youtube.com/watch?v=Olafr9qcZlk', 'https://www.youtube.com/watch?v=7QMbNqJGTkE', 'https://www.youtube.com/watch?v=E2PrPvy5kfA', 'https://www.youtube.com/watch?v=GwxlxOEaS3Q', 'https://www.youtube.com/watch?v=Bw-Jfwa0JTc', 'https://www.youtube.com/watch?v=EfSOGAGntGk', 'https://www.youtube.com/watch?v=DfSLIo5O8J0', 'https://www.youtube.com/watch?v=u37Y7W05RwU', 'https://www.youtube.com/watch?v=j2fHcA9EdV4', 'https://www.youtube.com/watch?v=1yONSmpRXuM', 'https://www.youtube.com/watch?v=Uf1mln_KEW8', 'https://www.youtube.com/watch?v=awt6aicbbI8', 'https://www.youtube.com/watch?v=abEkiT_DDPM', 'https://www.youtube.com/watch?v=hs1tjk0uJOg', 'https://www.youtube.com/watch?v=_-LTNim3_kc', 'https://www.youtube.com/watch?v=TkapxWryhVw', 'https://www.youtube.com/watch?v=mAU2YJKBpPs', 'https://www.youtube.com/watch?v=hLT2NdXuV7A', 'https://www.youtube.com/watch?v=ZRvKAwyjmpI', 'https://www.youtube.com/watch?v=a6lHd2zQCgY', 'https://www.youtube.com/watch?v=a3kUNmri2vc', 'https://www.youtube.com/watch?v=LZfORJGVQWk', 'https://www.youtube.com/watch?v=W3LXD6chh-o', 'https://www.youtube.com/watch?v=JXFLoMEXYCs', 'https://www.youtube.com/watch?v=tzZ6Fl-MVGE', 'https://www.youtube.com/watch?v=iuEWo4Pub1w', 'https://www.youtube.com/watch?v=C-9F6iDhbvA', 'https://www.youtube.com/watch?v=BDVAURyEoZk', 'https://www.youtube.com/watch?v=Qc0bgtLX1W0', 'https://www.youtube.com/watch?v=Xxwo28ALJdw', 'https://www.youtube.com/watch?v=A5rIybcc3as', 'https://www.youtube.com/watch?v=T22urI3FMzs', 'https://www.youtube.com/watch?v=qb8fZSiYvj0', 'https://www.youtube.com/watch?v=4bdefMI_Etc', 'https://www.youtube.com/watch?v=tDUu3WTZU3g', 'https://www.youtube.com/watch?v=vxSlfFFJK7g', 'https://www.youtube.com/watch?v=g8hMzGtmUPc', 'https://www.youtube.com/watch?v=bQJguVUhVTo', 'https://www.youtube.com/watch?v=l4oFRukDXLE', 'https://www.youtube.com/watch?v=txordzQ91C0', 'https://www.youtube.com/watch?v=zUzGUugH9rU', 'https://www.youtube.com/watch?v=hRBiAjlu6_Y', 'https://www.youtube.com/watch?v=6nz8avacEOU', 'https://www.youtube.com/watch?v=NwD9Bfyt_EY', 'https://www.youtube.com/watch?v=6qCEE5nAC0Q', 'https://www.youtube.com/watch?v=2TrPd7mHcD4', 'https://www.youtube.com/watch?v=64kbbwp2d70', 'https://www.youtube.com/watch?v=RqJsSgcPdfk', 'https://www.youtube.com/watch?v=r6957pqVoBI', 'https://www.youtube.com/watch?v=bVZaeucszYc', 'https://www.youtube.com/watch?v=1NDQAfoKTIc', 'https://www.youtube.com/watch?v=6gdUEPJbSAo', 'https://www.youtube.com/watch?v=GhWb_WQuI7Y', 'https://www.youtube.com/watch?v=7qpN_CJkawM', 'https://www.youtube.com/watch?v=dt0ZcQWpjRY', 'https://www.youtube.com/watch?v=blYaiUMOu1Y', 'https://www.youtube.com/watch?v=c8nWw4jS2sU', 'https://www.youtube.com/watch?v=U3WL-nFa5DQ', 'https://www.youtube.com/watch?v=eVYRk9h19sI', 'https://www.youtube.com/watch?v=_yxaXCvBN94', 'https://www.youtube.com/watch?v=519U0xczCeg', 'https://www.youtube.com/watch?v=BH9Frl3EE6w', 'https://www.youtube.com/watch?v=7kxi1NxZMy4', 'https://www.youtube.com/watch?v=F5T2YoqaUxo', 'https://www.youtube.com/watch?v=9_8XXjp7Scc', 'https://www.youtube.com/watch?v=ah3Pf0Lnutw', 'https://www.youtube.com/watch?v=7cPgyJe7sIg', 'https://www.youtube.com/watch?v=Epxj1p9mAXM', 'https://www.youtube.com/watch?v=qef5ZDEkSig', 'https://www.youtube.com/watch?v=Vz93s9-3KIE', 'https://www.youtube.com/watch?v=O1rofBj5rfo', 'https://www.youtube.com/watch?v=l7g3JnIuXnM', 'https://www.youtube.com/watch?v=dkEV6IStENg', 'https://www.youtube.com/watch?v=DvR0M3fIvqw', 'https://www.youtube.com/watch?v=59tharS5pDI', 'https://www.youtube.com/watch?v=60AUEyX5wGY', 'https://www.youtube.com/watch?v=ZLbtsb4QgNI', 'https://www.youtube.com/watch?v=dESp32MGhn4', 'https://www.youtube.com/watch?v=nFhGyK5jrGQ', 'https://www.youtube.com/watch?v=1pnVZoOmgQI', 'https://www.youtube.com/watch?v=U4hREefKfls', 'https://www.youtube.com/watch?v=xHhfnOrbwTY', 'https://www.youtube.com/watch?v=k9ftbh6tSIc', 'https://www.youtube.com/watch?v=gcVj73dTJI4', 'https://www.youtube.com/watch?v=lOcKOUOQaz4', 'https://www.youtube.com/watch?v=1FNRWl_LT0c', 'https://www.youtube.com/watch?v=ONnuaSBIjAI', 'https://www.youtube.com/watch?v=tu0KWHJCq-A', 'https://www.youtube.com/watch?v=1ok07MSvTyQ', 'https://www.youtube.com/watch?v=018cvX0XChE', 'https://www.youtube.com/watch?v=MZji_1crmLU', 'https://www.youtube.com/watch?v=jogranOR6E4', 'https://www.youtube.com/watch?v=shfo1pQFtsw', 'https://www.youtube.com/watch?v=xiR3LbJatug', 'https://www.youtube.com/watch?v=wJ4n77G3nQI', 'https://www.youtube.com/watch?v=xVNzN6yXuuA', 'https://www.youtube.com/watch?v=I_kJ1Ly8XT0', 'https://www.youtube.com/watch?v=O9upykUFtz0', 'https://www.youtube.com/watch?v=t5tNV0afblo', 'https://www.youtube.com/watch?v=JB9GDfL9yFo', 'https://www.youtube.com/watch?v=GuhUbtPcQQA', 'https://www.youtube.com/watch?v=-1WvUCpEtUM', 'https://www.youtube.com/watch?v=cF1h__c2h4k', 'https://www.youtube.com/watch?v=To52I-t8cNg', 'https://www.youtube.com/watch?v=0HIiuvC7nSU', 'https://www.youtube.com/watch?v=azlq540b0_U', 'https://www.youtube.com/watch?v=VoX0W_Qr0PY', 'https://www.youtube.com/watch?v=ONGquvQq2-s', 'https://www.youtube.com/watch?v=1LAE0925B2A', 'https://www.youtube.com/watch?v=CVZvzsVXR1k', 'https://www.youtube.com/watch?v=vU8jE6aefpo', 'https://www.youtube.com/watch?v=u2ob9St4S9s', 'https://www.youtube.com/watch?v=cuukc1SBDzI', 'https://www.youtube.com/watch?v=yZtgNnLXvgk', 'https://www.youtube.com/watch?v=ohJ8SHZTWKk', 'https://www.youtube.com/watch?v=aK4XpX8FLA4', 'https://www.youtube.com/watch?v=APEeeFbA81w', 'https://www.youtube.com/watch?v=PpzdFCHrOzo', 'https://www.youtube.com/watch?v=b7YXlEyTZAc', 'https://www.youtube.com/watch?v=aT1wLWhjPP8', 'https://www.youtube.com/watch?v=CGs78ilGY-k', 'https://www.youtube.com/watch?v=SzVy-jVeBK8', 'https://www.youtube.com/watch?v=dSMhIcry9lU', 'https://www.youtube.com/watch?v=MOQEFuDjYzk', 'https://www.youtube.com/watch?v=ZGgWLvLLz-k', 'https://www.youtube.com/watch?v=cGxONMcApoA', 'https://www.youtube.com/watch?v=OwmJIkIHQPk', 'https://www.youtube.com/watch?v=ixQVTJ2Y2GE', 'https://www.youtube.com/watch?v=EHMRu0dH2DI', 'https://www.youtube.com/watch?v=V4T5_xPjm_M', 'https://www.youtube.com/watch?v=zXl55yLS0wQ', 'https://www.youtube.com/watch?v=7dGDsecxNYY', 'https://www.youtube.com/watch?v=YkuHKaikWc8', 'https://www.youtube.com/watch?v=3uabeAZZb2A', 'https://www.youtube.com/watch?v=4nBaoTvodQw', 'https://www.youtube.com/watch?v=6715QGS566I', 'https://www.youtube.com/watch?v=8wQLUFwqjJ8', 'https://www.youtube.com/watch?v=EQkvzcex8Aw', 'https://www.youtube.com/watch?v=VS6P44FDEFY', 'https://www.youtube.com/watch?v=yAI7KlSoxX8', 'https://www.youtube.com/watch?v=qx529DxcFl0', 'https://www.youtube.com/watch?v=_Y7o1X-m8FM', 'https://www.youtube.com/watch?v=uiOm1gj0GyU', 'https://www.youtube.com/watch?v=zNpoqV7eL9I', 'https://www.youtube.com/watch?v=euiI7EJzjbI', 'https://www.youtube.com/watch?v=HAISWqPF254', 'https://www.youtube.com/watch?v=t9h60O2pJZ4', 'https://www.youtube.com/watch?v=73tOZbM41jE', 'https://www.youtube.com/watch?v=nqWpTyTXKKY', 'https://www.youtube.com/watch?v=hZ_7U2K0Q4Q', 'https://www.youtube.com/watch?v=FUhjw_VegDM', 'https://www.youtube.com/watch?v=tJP9C0GzQ6M', 'https://www.youtube.com/watch?v=7lQw7VsoJdU', 'https://www.youtube.com/watch?v=orxp7BhawoY', 'https://www.youtube.com/watch?v=ggISMmLJnqc', 'https://www.youtube.com/watch?v=hYBAXa006Ho', 'https://www.youtube.com/watch?v=zMN1P6dr4ms', 'https://www.youtube.com/watch?v=MVtU_WUfg0o', 'https://www.youtube.com/watch?v=NbhdlhOq4f8', 'https://www.youtube.com/watch?v=dy8lc7Q7ShM', 'https://www.youtube.com/watch?v=iClqeLnRw2Y', 'https://www.youtube.com/watch?v=RwGfPtPmtSY', 'https://www.youtube.com/watch?v=ESyF9gfWv-E', 'https://www.youtube.com/watch?v=4_mSog2UinU', 'https://www.youtube.com/watch?v=aqCI-K3YoQA', 'https://www.youtube.com/watch?v=PPrdKrFNp2U', 'https://www.youtube.com/watch?v=T4sga1gKBWo', 'https://www.youtube.com/watch?v=ZGF-SP8sBHI', 'https://www.youtube.com/watch?v=BnrHSj2VwZo', 'https://www.youtube.com/watch?v=cEMxMjP8yYg', 'https://www.youtube.com/watch?v=RZOMkacRpCQ', 'https://www.youtube.com/watch?v=e7BP1TZLh-w', 'https://www.youtube.com/watch?v=R_XuAmyhrKc', 'https://www.youtube.com/watch?v=zWdPbKanniw', 'https://www.youtube.com/watch?v=jrnQM8-Cp-s', 'https://www.youtube.com/watch?v=o6XriUxGy0M', 'https://www.youtube.com/watch?v=x_Le55CTRe0', 'https://www.youtube.com/watch?v=IMCzpDHVlCs', 'https://www.youtube.com/watch?v=YtZBCkx9jLc', 'https://www.youtube.com/watch?v=rHSwbAsL-Nw', 'https://www.youtube.com/watch?v=tdj-SBk9xo8', 'https://www.youtube.com/watch?v=GzF0EyHWtGc', 'https://www.youtube.com/watch?v=Vsis1oabvmg', 'https://www.youtube.com/watch?v=ZYHPQz2cI8E', 'https://www.youtube.com/watch?v=A5BSWQHigic', 'https://www.youtube.com/watch?v=EE4kjEiL8Bo', 'https://www.youtube.com/watch?v=ffAHBKZ8lHY', 'https://www.youtube.com/watch?v=mbM-YX9LisY', 'https://www.youtube.com/watch?v=qJnHi2RcdHU', 'https://www.youtube.com/watch?v=BAVJ1jzaHxw', 'https://www.youtube.com/watch?v=jRVSMl1x4i4', 'https://www.youtube.com/watch?v=mJeNLshHDuY', 'https://www.youtube.com/watch?v=iPkOPdA7Wd8', 'https://www.youtube.com/watch?v=XxSHaQSIdZs', 'https://www.youtube.com/watch?v=AP92TTF5du4', 'https://www.youtube.com/watch?v=3MfrcqT72tI', 'https://www.youtube.com/watch?v=KR2TBqakfG4', 'https://www.youtube.com/watch?v=M5F9tCTEvEQ', 'https://www.youtube.com/watch?v=SeYgwvP8XLw', 'https://www.youtube.com/watch?v=PKQvccpqPdI', 'https://www.youtube.com/watch?v=1-q8qXKgag4', 'https://www.youtube.com/watch?v=k2v-9Adjb2s', 'https://www.youtube.com/watch?v=yEgyrYldlVk', 'https://www.youtube.com/watch?v=xS1KfjC4CZ4', 'https://www.youtube.com/watch?v=pJwifxD0uQE', 'https://www.youtube.com/watch?v=IHxeMAlPO5I', 'https://www.youtube.com/watch?v=-1QaULH8q3I', 'https://www.youtube.com/watch?v=nkpMKkj_pcg', 'https://www.youtube.com/watch?v=L-McXK1JnMI', 'https://www.youtube.com/watch?v=VI_onUic9Jo', 'https://www.youtube.com/watch?v=zUP3qfQd-GI', 'https://www.youtube.com/watch?v=KlT4PEj50tA', 'https://www.youtube.com/watch?v=LXSfOQC8B60', 'https://www.youtube.com/watch?v=mFHyJTWIvZs', 'https://www.youtube.com/watch?v=M0iLqSWbZsI', 'https://www.youtube.com/watch?v=jg7K92qsm70', 'https://www.youtube.com/watch?v=qCCKsrbLIsY', 'https://www.youtube.com/watch?v=gekVT9Zn3X8', 'https://www.youtube.com/watch?v=B3Xpf_W3xTw', 'https://www.youtube.com/watch?v=2YltJd4Emg0', 'https://www.youtube.com/watch?v=1Do3gFqxYI8', 'https://www.youtube.com/watch?v=ISNTISZYAhU', 'https://www.youtube.com/watch?v=Iu4-qDEmQZ4', 'https://www.youtube.com/watch?v=1hikogJ7Mg0', 'https://www.youtube.com/watch?v=7Z-wSQK8vfA', 'https://www.youtube.com/watch?v=1j5Q8DcHja0', 'https://www.youtube.com/watch?v=Ej_HRIGgHVY', 'https://www.youtube.com/watch?v=xXjzTFNeQ8M', 'https://www.youtube.com/watch?v=wbrvPX1WWwA', 'https://www.youtube.com/watch?v=bUt-GNVNFKI', 'https://www.youtube.com/watch?v=bT72mnSjYHI', 'https://www.youtube.com/watch?v=CEq8YPddKHo', 'https://www.youtube.com/watch?v=i8XesVIfCYA', 'https://www.youtube.com/watch?v=zFk0KFFflwM', 'https://www.youtube.com/watch?v=2LLCq3rThP0', 'https://www.youtube.com/watch?v=SW2u-N8SrgY', 'https://www.youtube.com/watch?v=ad_vgM6aXvY', 'https://www.youtube.com/watch?v=xnISmw2jL3s', 'https://www.youtube.com/watch?v=pGi4l1n11Xk', 'https://www.youtube.com/watch?v=_nZicgPvNOw', 'https://www.youtube.com/watch?v=9armMXITE5Q', 'https://www.youtube.com/watch?v=ELSbGbpjn-g', 'https://www.youtube.com/watch?v=dRaV8dzi0OA', 'https://www.youtube.com/watch?v=bV3qs3d5z0o', 'https://www.youtube.com/watch?v=ZeTYgJWmjgA', 'https://www.youtube.com/watch?v=6SdbEA6gFqE', 'https://www.youtube.com/watch?v=fhLnQPKHYPU', 'https://www.youtube.com/watch?v=UBTNxU2m17c', 'https://www.youtube.com/watch?v=qJIv9Q7qnSw', 'https://www.youtube.com/watch?v=OMXITJzdzDc', 'https://www.youtube.com/watch?v=YIFGq-fz7l0', 'https://www.youtube.com/watch?v=1Gao1WxrREM', 'https://www.youtube.com/watch?v=qbuhEkmplbE', 'https://www.youtube.com/watch?v=IUpueC60pZk', 'https://www.youtube.com/watch?v=7KFZD2iAusg', 'https://www.youtube.com/watch?v=2gwSET2FM8E', 'https://www.youtube.com/watch?v=cSLTwUMGCLA', 'https://www.youtube.com/watch?v=35UHb8qdoS0', 'https://www.youtube.com/watch?v=hRcgOE79_W8', 'https://www.youtube.com/watch?v=Z_iFmBJ32VI', 'https://www.youtube.com/watch?v=Ey6EwsfY1MM', 'https://www.youtube.com/watch?v=vqY7BU_xs4w', 'https://www.youtube.com/watch?v=JEbizcSdZOI', 'https://www.youtube.com/watch?v=HArrikIoCwo', 'https://www.youtube.com/watch?v=4KL_foJtSTo', 'https://www.youtube.com/watch?v=ArFo-RR8saA', 'https://www.youtube.com/watch?v=miXxZ_T3X88', 'https://www.youtube.com/watch?v=A0pWrM_NpuY', 'https://www.youtube.com/watch?v=lcpKr2WEVxU', 'https://www.youtube.com/watch?v=_gIJ-d7hbWY', 'https://www.youtube.com/watch?v=NmLS0BWgB04', 'https://www.youtube.com/watch?v=cmuUXNjAl-k', 'https://www.youtube.com/watch?v=IDYcqCprgTI', 'https://www.youtube.com/watch?v=GzIXxJ6mO5U', 'https://www.youtube.com/watch?v=nJIgdYiwxXs', 'https://www.youtube.com/watch?v=7lffEFZauJ4', 'https://www.youtube.com/watch?v=34h52fpO7A4', 'https://www.youtube.com/watch?v=rvowDPhJCtw', 'https://www.youtube.com/watch?v=bs-rSTHxoHQ', 'https://www.youtube.com/watch?v=tmeYFCSwq8Q', 'https://www.youtube.com/watch?v=QtFvcehmkfQ', 'https://www.youtube.com/watch?v=YlT8A7Ud-2g', 'https://www.youtube.com/watch?v=6_WktFIBPMM', 'https://www.youtube.com/watch?v=H8sO63WXZRs', 'https://www.youtube.com/watch?v=UQlzz8AYhao', 'https://www.youtube.com/watch?v=u2prbIXIEVc', 'https://www.youtube.com/watch?v=oE5L-UGLSUs', 'https://www.youtube.com/watch?v=wa2hFGtY4d8', 'https://www.youtube.com/watch?v=TjLyramTwzQ', 'https://www.youtube.com/watch?v=g5dx3l4vAxQ', 'https://www.youtube.com/watch?v=IfhGh6k5ofw', 'https://www.youtube.com/watch?v=WDFXa9Cvb8I', 'https://www.youtube.com/watch?v=fwIkfmKm6lo', 'https://www.youtube.com/watch?v=gIr-biFCcts', 'https://www.youtube.com/watch?v=WVBIZq3Qcj4', 'https://www.youtube.com/watch?v=glubYSsIf60', 'https://www.youtube.com/watch?v=7jvgD11_HhM', 'https://www.youtube.com/watch?v=2osnvKBuHNc', 'https://www.youtube.com/watch?v=5m946lQuv4w', 'https://www.youtube.com/watch?v=Y1xVv-EUWfw', 'https://www.youtube.com/watch?v=Iew-kjFVwXo', 'https://www.youtube.com/watch?v=eYv3t7vsAJo', 'https://www.youtube.com/watch?v=C-N_OBhnFA4', 'https://www.youtube.com/watch?v=1JM7SpcJ1JU', 'https://www.youtube.com/watch?v=3GqIo2FkYKI', 'https://www.youtube.com/watch?v=p1W30EXbgzU', 'https://www.youtube.com/watch?v=Vz2c_LlmaR4', 'https://www.youtube.com/watch?v=6V1uCAutkD0', 'https://www.youtube.com/watch?v=_x5mieRW_vY', 'https://www.youtube.com/watch?v=J_NaIP7epdQ', 'https://www.youtube.com/watch?v=j3vTu0w5iNM', 'https://www.youtube.com/watch?v=jHEPblIXErQ', 'https://www.youtube.com/watch?v=wQ4g27_yU14', 'https://www.youtube.com/watch?v=4hV8TWsNDA4', 'https://www.youtube.com/watch?v=nM52G7coElk', 'https://www.youtube.com/watch?v=r6iNTeGf32U', 'https://www.youtube.com/watch?v=G3ZH2LsXLKs', 'https://www.youtube.com/watch?v=5uTI9-jkjz0', 'https://www.youtube.com/watch?v=CRwWACPIQkg', 'https://www.youtube.com/watch?v=xFPKy7fKb1I', 'https://www.youtube.com/watch?v=uodlgePexkw', 'https://www.youtube.com/watch?v=m_8hpnaUwvg', 'https://www.youtube.com/watch?v=DJPZ6OAR46w', 'https://www.youtube.com/watch?v=b2j1meszE84', 'https://www.youtube.com/watch?v=gyT5AyblMGk', 'https://www.youtube.com/watch?v=XsuquT-x2BA', 'https://www.youtube.com/watch?v=rMTdQ3qgnQo', 'https://www.youtube.com/watch?v=A-OhJ9i-oEw', 'https://www.youtube.com/watch?v=0GfhyE2Hlts', 'https://www.youtube.com/watch?v=hWe__WORVoE', 'https://www.youtube.com/watch?v=dqykP8nICaQ', 'https://www.youtube.com/watch?v=rAPYSSrT8Pc', 'https://www.youtube.com/watch?v=obreeJ2Dk4A', 'https://www.youtube.com/watch?v=2Q-s7ztGZOQ', 'https://www.youtube.com/watch?v=NjFm_ll8Euo', 'https://www.youtube.com/watch?v=KTCcNUfJAH8', 'https://www.youtube.com/watch?v=kpNCY4SnIdQ', 'https://www.youtube.com/watch?v=4p2Bwk3Bb1k', 'https://www.youtube.com/watch?v=D92HAo5BWDE', 'https://www.youtube.com/watch?v=JE0hAYThNjE', 'https://www.youtube.com/watch?v=UEVx-qEH55Y', 'https://www.youtube.com/watch?v=jx2oXjiwcGI', 'https://www.youtube.com/watch?v=ERlQtABwXJc', 'https://www.youtube.com/watch?v=iyAnZ4yjPIo', 'https://www.youtube.com/watch?v=yaI1zqKSCwA', 'https://www.youtube.com/watch?v=ZE-ZtCSPPNc', 'https://www.youtube.com/watch?v=BKs9YI72MT4', 'https://www.youtube.com/watch?v=BKs9YI72MT4', 'https://www.youtube.com/watch?v=D7Ixj-NU5LY', 'https://www.youtube.com/watch?v=i-NG5rtRjX4', 'https://www.youtube.com/watch?v=Ev2aLjcLX5E', 'https://www.youtube.com/watch?v=-gFRAA1Vb7U', 'https://www.youtube.com/watch?v=4oeYiDLF0-c', 'https://www.youtube.com/watch?v=GL7C1aW1-HI', 'https://www.youtube.com/watch?v=Asj7KYKcE4Y', 'https://www.youtube.com/watch?v=VytvUObQ7xw', 'https://www.youtube.com/watch?v=0iB_eyjEBVk', 'https://www.youtube.com/watch?v=CpsDqEOQYys', 'https://www.youtube.com/watch?v=x_3TCGWuDD4', 'https://www.youtube.com/watch?v=D_EflBSrhHg', 'https://www.youtube.com/watch?v=Ps2iR5sbxcE', 'https://www.youtube.com/watch?v=FUSl_4JGeH8', 'https://www.youtube.com/watch?v=vTLSACRZMYU', 'https://www.youtube.com/watch?v=DHvYCGbDlOg', 'https://www.youtube.com/watch?v=kepoQjY0bhI', 'https://www.youtube.com/watch?v=ft63WGjCmdY', 'https://www.youtube.com/watch?v=SGccjxLKItw', 'https://www.youtube.com/watch?v=odmijKXk9ig', 'https://www.youtube.com/watch?v=79aS3dgPa1s', 'https://www.youtube.com/watch?v=P9ZXuxjbncw', 'https://www.youtube.com/watch?v=oIpSnKfcIpU', 'https://www.youtube.com/watch?v=CuS40phnz6M', 'https://www.youtube.com/watch?v=XpbOgGjxMkw', 'https://www.youtube.com/watch?v=BoK1-n3e5mk', 'https://www.youtube.com/watch?v=4DvEg3fhMOo', 'https://www.youtube.com/watch?v=nle3TY2GIqc', 'https://www.youtube.com/watch?v=-tu2qpu3AkU', 'https://www.youtube.com/watch?v=U1IQ6IY9iwU', 'https://www.youtube.com/watch?v=pM0A_pYCEzo', 'https://www.youtube.com/watch?v=d5BfMZ-sgjg', 'https://www.youtube.com/watch?v=IaowyPMHvIA', 'https://www.youtube.com/watch?v=X_qFT2mI2GY', 'https://www.youtube.com/watch?v=mHcdsFLkAMw', 'https://www.youtube.com/watch?v=i0h-WzGGcv0', 'https://www.youtube.com/watch?v=VtecX32uloo', 'https://www.youtube.com/watch?v=0_sg3gfvyok', 'https://www.youtube.com/watch?v=gDEAxFObmyE', 'https://www.youtube.com/watch?v=4R5dzr9Tto4', 'https://www.youtube.com/watch?v=SmvmM_VbGTc', 'https://www.youtube.com/watch?v=yadMvTCTYfw', 'https://www.youtube.com/watch?v=3Bih4PljeUo', 'https://www.youtube.com/watch?v=quUSDBIPqf8', 'https://www.youtube.com/watch?v=zlhaLHv-KBg', 'https://www.youtube.com/watch?v=wYKdjR3YZUs', 'https://www.youtube.com/watch?v=XSuhEIwXi7A', 'https://www.youtube.com/watch?v=IqOTG_XvOmg', 'https://www.youtube.com/watch?v=AA76AK2YQJ0', 'https://www.youtube.com/watch?v=zusrO-ociuU', 'https://www.youtube.com/watch?v=4VHy-iWu5Wg', 'https://www.youtube.com/watch?v=iGe6cHDolbE', 'https://www.youtube.com/watch?v=TdQiR_s2g04', 'https://www.youtube.com/watch?v=6IQjbQITDSA', 'https://www.youtube.com/watch?v=qduc713JNnE', 'https://www.youtube.com/watch?v=flfSLubuIRE', 'https://www.youtube.com/watch?v=OZEa78BB5SQ', 'https://www.youtube.com/watch?v=98zRnyXXUl4', 'https://www.youtube.com/watch?v=KyCzqIupn_I', 'https://www.youtube.com/watch?v=lpaJLPID9IU', 'https://www.youtube.com/watch?v=zX9goNJbBlI', 'https://www.youtube.com/watch?v=_i74WVU5PZ0', 'https://www.youtube.com/watch?v=rX6FVolDPRc', 'https://www.youtube.com/watch?v=bSop7TKgtBE', 'https://www.youtube.com/watch?v=z15MkEpgnRo', 'https://www.youtube.com/watch?v=YZgL7L6n-rU', 'https://www.youtube.com/watch?v=a6StTKqROgU', 'https://www.youtube.com/watch?v=jHE4YFU2Be0', 'https://www.youtube.com/watch?v=rqdKyU700SU', 'https://www.youtube.com/watch?v=X23GXamGdts', 'https://www.youtube.com/watch?v=ADEuyYjnSb8', 'https://www.youtube.com/watch?v=7lXiDw7ZPck', 'https://www.youtube.com/watch?v=OpTzYx6YzMI', 'https://www.youtube.com/watch?v=cF0VhwqKoSU', 'https://www.youtube.com/watch?v=cQTSh2DicpE', 'https://www.youtube.com/watch?v=oQC_NSbLqv4', 'https://www.youtube.com/watch?v=79bipkBczwU', 'https://www.youtube.com/watch?v=_vXj1wGRXeo', 'https://www.youtube.com/watch?v=j9-gt24RJHk', 'https://www.youtube.com/watch?v=VLMm75afqpE', 'https://www.youtube.com/watch?v=SfmiQaQ0Jks', 'https://www.youtube.com/watch?v=G6JUpmGygKg', 'https://www.youtube.com/watch?v=amMTHWuyLfI', 'https://www.youtube.com/watch?v=fQSgBxY3j5E', 'https://www.youtube.com/watch?v=auJD5Ih-4NI', 'https://www.youtube.com/watch?v=ak4zKc2nqgQ', 'https://www.youtube.com/watch?v=McD3Swe0SJM', 'https://www.youtube.com/watch?v=UqzA5NyBm28', 'https://www.youtube.com/watch?v=Uo1trMNGNuQ', 'https://www.youtube.com/watch?v=7neKp2J4J54', 'https://www.youtube.com/watch?v=mpG61HaKkq4', 'https://www.youtube.com/watch?v=gi28dFZ7FuA', 'https://www.youtube.com/watch?v=d05qND4271s', 'https://www.youtube.com/watch?v=HmjtImdP3iU', 'https://www.youtube.com/watch?v=HmjtImdP3iU', 'https://www.youtube.com/watch?v=UMvYPjW1y_I', 'https://www.youtube.com/watch?v=_HWhCl0DSQ8', 'https://www.youtube.com/watch?v=n5dn89AxSI4', 'https://www.youtube.com/watch?v=WnR8XlsGyWw', 'https://www.youtube.com/watch?v=e8HT6EKiKLs', 'https://www.youtube.com/watch?v=vMCjxkofWYA', 'https://www.youtube.com/watch?v=ThVbNiSCmlM', 'https://www.youtube.com/watch?v=0jD54YnVdSE', 'https://www.youtube.com/watch?v=oFeooc-ZE7I', 'https://www.youtube.com/watch?v=mLwqzbK1NKg', 'https://www.youtube.com/watch?v=eTqB0J9MVUM', 'https://www.youtube.com/watch?v=QaF1Ov1kJgk', 'https://www.youtube.com/watch?v=xM6N8Xdwk7o', 'https://www.youtube.com/watch?v=jsh-nHxRYgY', 'https://www.youtube.com/watch?v=u8ZEuMujS6A', 'https://www.youtube.com/watch?v=E0tjU1R_v9I', 'https://www.youtube.com/watch?v=CH2ztE9j-1Y', 'https://www.youtube.com/watch?v=_JXaF6Xji6M', 'https://www.youtube.com/watch?v=bbMhg-SPDcE', 'https://www.youtube.com/watch?v=kJB3htpy9Rk', 'https://www.youtube.com/watch?v=rkz7ZdgjNuk', 'https://www.youtube.com/watch?v=UfQwez7s5ks', 'https://www.youtube.com/watch?v=o8QghkNCrP4', 'https://www.youtube.com/watch?v=BorCMQ6Yb-0', 'https://www.youtube.com/watch?v=AKmg8lCV_Ls', 'https://www.youtube.com/watch?v=aZHVmFkE5zo', 'https://www.youtube.com/watch?v=YY2utIGtgrg', 'https://www.youtube.com/watch?v=tATKNLeS2Yo']

def download_from_youtube(url):
    while True:
        try:
            print("[download_from_youtube] " + url)
            yt = YouTube(url)
            yt.check_availability()
            break
        except Exception as e:
            print("YouTube Error: " + str(e))
            if "Too Many Requests" in str(e):
                print("retry")
                time.sleep(300)
                continue
            return ""

    try:
        filename = yt.streams.filter(only_audio=True,subtype='mp4').order_by('abr').last().download()
        return filename
    except Exception as e:
        print(e)
        return ""

def convert_to_wav(video_filename, output_dir):
    base, ext = os.path.splitext(os.path.basename(video_filename))
    ffmpeg_cmd = f'{ffmpeg_path} -y -loglevel quiet -i "{video_filename}" -ac 1 -ar 16000 -acodec pcm_s16le -f segment -segment_time 10 "{output_dir}/{base}_%02d.wav"'
    ffmpeg_cmd = ffmpeg_cmd.replace(os.sep, "/")
    # print(f"{ffmpeg_cmd}")
    os.system(f"{ffmpeg_cmd}") 

if __name__ == '__main__':
    parser = argparse.ArgumentParser(description="Download AudioSet")
    parser.add_argument("-o", "--output_dir", help="output directory", type=str, required=False, default="./yoshimoto")
    args = parser.parse_args()
    output_dir = args.output_dir
    print(f"output_dir = {output_dir}")
    os.makedirs(output_dir, exist_ok=True)

    total_num = len(list_video)
    success_cnt = 0
    fail_cnt = 0

    for url in list_video:
        print("Progress: " + str(success_cnt + fail_cnt) + " / " + str(total_num) + ". Success cnt: " + str(success_cnt) + ". Fail cnt: " + str(fail_cnt))
        # print(url)
        video_filename = download_from_youtube(url)
        youtube_id = url[32:]
        if video_filename == "":
            fail_cnt += 1
        else:
            success_cnt += 1
            base, ext = os.path.splitext(os.path.basename(video_filename))
            video_filename = shutil.move(video_filename, str(youtube_id) + ext)
            convert_to_wav(video_filename, output_dir)
            # os.remove(video_filename)

        time.sleep(10)


